/* Compatibility & Global Fixes */
.chrome-fix { display: inline-block; white-space: nowrap; opacity: 1 !important; }

.responsive-wrapper {
  width: 100%;
  max-width: 100%;
  padding: 12px;
}

/* Header Button Fix */
ion-toolbar {
  ion-button {
    --color: white;
    --padding-start: 8px;
    --padding-end: 8px;
  }
}

.code-select { --color: white; font-weight: 800; font-size: 0.9rem; }

/* Language Bar */
.lang-bar {
  margin-bottom: 15px;
  ion-select { font-weight: 700; color: #5d4037; width: 100%; }
}

.swap-circle {
  width: 42px; height: 42px; background: #f5f0ee; border-radius: 50%;
  display: flex; align-items: center; justify-content: center; margin: 0 auto;
  color: #5d4037; box-shadow: 0 2px 8px rgba(0,0,0,0.06); cursor: pointer;
}

/* Nested Workspace */
.workspace-card.white-bg {
  background: #ffffff; border-radius: 16px; padding: 16px;
  position: relative; border: 1px solid #e2e2e2; width: 100%;
  box-shadow: 0 4px 15px rgba(0,0,0,0.03);

  .main-textarea {
    --background: transparent; --color: #111;
    --padding-bottom: 70px;
    font-size: 1.4rem; line-height: 1.5; min-height: 220px;
  }
}

/* THE FIX: Button Interactivity */
.nested-controls {
  position: absolute; bottom: 12px; left: 12px; right: 12px;
  display: flex; justify-content: space-between; align-items: center;
  z-index: 10; pointer-events: none; // Allows clicks to hit textarea in gaps

  .left-group, .keyboard-trigger {
    pointer-events: auto; // RE-ENABLES interaction for buttons
    display: flex; gap: 10px;
  }
}

.mini-btn-main {
  background: linear-gradient(135deg, #5d4037 0%, #3e2723 100%);
  color: white; padding: 10px 22px; border-radius: 10px;
  font-weight: 800; text-transform: uppercase; cursor: pointer;
  box-shadow: 0 4px 10px rgba(93, 64, 55, 0.2); transition: 0.2s;

  &.disabled {
    background: #e8e8e8 !important; color: #b0b0b0 !important;
    pointer-events: none; box-shadow: none;
  }
  &:active { transform: scale(0.96); }
}

.mini-auto-pill {
  background: #f4f4f4; color: #8d6e63; padding: 8px 14px;
  border-radius: 10px; display: flex; align-items: center; gap: 6px;
  font-size: 0.8rem; font-weight: 700; cursor: pointer;

  &.active { background: #5d4037; color: white; }
}

.keyboard-trigger {
  width: 44px; height: 44px; background: #f4f4f4; border-radius: 10px;
  display: flex; align-items: center; justify-content: center; color: #5d4037;
  &.active { background: #5d4037; color: white; }
}

/* Multi-Output & Dictionary */
.result-container {
  display: flex; flex-direction: column; gap: 15px; margin-top: 25px; width: 100%;
  @media (min-width: 768px) { flex-direction: row; }
}

.result-display-modern {
  flex: 1.5; background: #fcfaf9; border-radius: 12px; padding: 20px; border-left: 10px solid #5d4037;
  .output-text { font-size: 1.8rem; font-weight: 600; color: #000; }
}

/* --- Result Display Header Fix --- */
.result-top {
  display: flex;
  justify-content: space-between; // Pushes badge to left, tools to right
  align-items: center;           // Vertically centers them on the row
  margin-bottom: 12px;
  width: 100%;

  .result-tools {
    display: flex;
    gap: 12px; // Space between Copy and Speak icons

    ion-button {
      --color: #5d4037;
      --padding-start: 0;
      --padding-end: 0;
      margin: 0;
      height: 38px;
      width: 38px;
      --border-radius: 50%;
      
      ion-icon {
        font-size: 1.4rem; // Slightly larger icons for better visibility
      }
    }
  }
}

/* Ensure the output text doesn't overlap the row above */
.output-text {
  font-size: 1.8rem;
  font-weight: 600;
  color: #000;
  margin: 0;
  padding-top: 8px;
  line-height: 1.3;
}

.dictionary-display {
  flex: 1; background: #ffffff; border-radius: 12px; padding: 18px; border: 1px solid #e0e0e0;
  .dict-title { font-size: 0.85rem; text-transform: uppercase; color: #8d6e63; font-weight: 800; margin-bottom: 12px; border-bottom: 1px solid #eee; }
  .dict-item { display: flex; padding: 8px 0; border-bottom: 1px dashed #f0f0f0; }
}

/* Popup & Modals */
.char-popup {
  position: absolute; bottom: 75px; right: 12px; background: white;
  border: 1px solid #d7ccc8; border-radius: 12px; padding: 10px;
  display: flex; gap: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); z-index: 100;

  .char-key { width: 42px; height: 42px; display: flex; align-items: center; justify-content: center; background: #fdfaf9; font-weight: bold; cursor: pointer; }
}

.history-card {
  background: #f8f9fa; padding: 15px; border-radius: 12px; margin-bottom: 10px; border: 1px solid #eee;
  .h-input { font-size: 0.9rem; color: #8d6e63; }
  .h-output { font-size: 1.2rem; font-weight: 700; color: #333; }
}
