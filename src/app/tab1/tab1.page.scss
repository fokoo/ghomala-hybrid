
/* --- BROWSER STABILITY & CONTAINERS --- */
.chrome-fix { 
  display: inline-block; 
  white-space: nowrap; 
  opacity: 1 !important; 
}

.responsive-wrapper {
  width: 100%;
  max-width: 100%;
  padding: 12px;
  overflow-x: hidden; 
}

/* --- HEADER & TOOLBAR --- */
ion-toolbar {
  --background: var(--ion-color-primary);
  ion-button {
    --color: white;
    margin-right: 4px;
    ion-icon { font-size: 1.4rem; }
  }
}

.brand-title { font-weight: 800; letter-spacing: 0.5px; }
.code-select { --color: white; font-weight: 800; font-size: 0.9rem; }

/* --- LANGUAGE SELECTION BAR --- */
.lang-bar {
  margin-bottom: 15px;
  ion-select { font-weight: 700; color: #5d4037; width: 100%; }
}

.swap-circle {
  width: 42px; height: 42px; background: #f5f0ee; border-radius: 50%;
  display: flex; align-items: center; justify-content: center; margin: 0 auto;
  color: #5d4037; box-shadow: 0 2px 8px rgba(0,0,0,0.06); cursor: pointer;
}

/* --- THE WORKSPACE CARD (TEXTAREA) --- */
.workspace-card.white-bg {
  background: #ffffff !important;
  border-radius: 16px;
  padding: 16px;
  position: relative;
  border: 1px solid #e2e2e2;
  width: 100%;
  box-shadow: 0 4px 15px rgba(0,0,0,0.03);
  
  /* Chrome Fix: Force stacking context */
  z-index: 1;
  transform: translateZ(0); 

  .main-textarea {
    --background: transparent;
    --color: #111;
    --padding-top: 10px;
    --padding-bottom: 70px; /* Space for the bottom controls */
    font-size: 1.4rem;
    line-height: 1.5;
    min-height: 220px;
  }
}

/* --- NESTED CONTROLS (BOTTOM ROW) --- */
.nested-controls {
  position: absolute; 
  bottom: 12px; left: 12px; right: 12px;
  display: flex; 
  justify-content: space-between; 
  align-items: center;
  z-index: 10; 
  pointer-events: none; /* Allows click-through to textarea gap */

  .left-group, .right-group {
    pointer-events: auto; /* Re-enables interaction for buttons */
    display: flex; 
    gap: 6px;
    align-items: center;
  }
}

/* Bottom Left: Tut…ô & Auto */
.mini-btn-main {
  background: linear-gradient(135deg, #5d4037 0%, #3e2723 100%);
  color: white; padding: 10px 20px; border-radius: 10px;
  font-weight: 800; text-transform: uppercase; cursor: pointer;
  box-shadow: 0 4px 10px rgba(93, 64, 55, 0.2); transition: 0.2s;

  &.disabled {
    background: #e8e8e8 !important; color: #b0b0b0 !important;
    pointer-events: none; box-shadow: none;
  }
  &:active { transform: scale(0.96); }
}

.mini-auto-pill {
  background: #f4f4f4; color: #8d6e63; padding: 8px 14px;
  border-radius: 10px; display: flex; align-items: center; gap: 6px;
  font-size: 0.8rem; font-weight: 700; cursor: pointer;

  &.active { background: #5d4037; color: white; }
}

/* Bottom Right: Clear, Copy & Keyboard Icons */
.icon-btn-secondary, .keyboard-trigger {
  width: 38px;
  height: 38px;
  background: #f4f4f4;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #5d4037;
  cursor: pointer;
  transition: 0.2s;

  &.active { background: #5d4037; color: white; }
  &.disabled { opacity: 0.3; pointer-events: none; }
  &:active { transform: scale(0.92); background: #e0e0e0; }

  ion-icon { font-size: 1.25rem; }
}

/* --- SPECIAL CHARACTER POPUP --- */
.char-popup {
  position: absolute; 
  bottom: 65px; right: 12px; 
  background: #ffffff !important; 
  border: 1px solid #d7ccc8; border-radius: 12px; 
  padding: 12px; box-shadow: 0 12px 35px rgba(0,0,0,0.2); 
  z-index: 9999 !important; 
  transform: translateZ(50px); 

  .char-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
    width: 190px;
  }

  .char-key {
    height: 42px; display: flex; align-items: center; justify-content: center;
    background: #fdfaf9; border-radius: 6px; font-weight: bold; font-size: 1.2rem;
    color: #3e2723; cursor: pointer;
    &:active { background: #d7ccc8; }
  }
}

/* --- OUTPUT & DICTIONARY --- */
.result-container {
  display: flex; flex-direction: column; gap: 15px; margin-top: 25px; width: 100%;
  @media (min-width: 768px) { flex-direction: row; align-items: flex-start; }
}

.result-display-modern {
  flex: 1.5; background: #fcfaf9; border-radius: 12px; padding: 20px; border-left: 10px solid #5d4037;
  transform: translateZ(0); 

  .result-top {
    display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;
    .result-tools { 
      display: flex; 
      gap: 12px; 
      ion-button { --color: #5d4037; margin: 0; height: 38px; width: 38px; } 
    }
  }

  .output-text {
    font-size: 1.8rem; font-weight: 600; color: #000000 !important;
    display: block !important;
    line-height: 1.3;
  }
}

.dictionary-display.chrome-render-fix {
  display: block !important;
  flex: 1; background: #ffffff; border-radius: 12px; padding: 18px; border: 1px solid #e0e0e0;
  transform: translateZ(0);

  .dict-title { font-size: 0.85rem; text-transform: uppercase; color: #8d6e63; font-weight: 800; border-bottom: 1px solid #eee; margin-bottom: 12px; padding-bottom: 6px; }
  .dict-item { display: flex; padding: 8px 0; border-bottom: 1px dashed #f0f0f0; }
  .dict-ghomala { font-weight: 700; color: #5d4037; font-size: 1.1rem; }
  .dict-sep { margin: 0 10px; color: #ccc; }
  .dict-target { color: #333; }
}

/* --- MODAL HISTORY --- */
.history-card {
  background: #f8f9fa; padding: 16px; border-radius: 12px; margin-bottom: 12px; border: 1px solid #efefef;
  .h-input { font-size: 0.95rem; color: #8d6e63; }
  .h-output { font-size: 1.25rem; font-weight: 700; color: #333; }
}